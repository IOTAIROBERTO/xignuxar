<!-- Copyright (c) 2020 8th Wall, Inc. -->

<a-scene 
  drop-object
  physics="driver: ammo; debug: true; debugDrawMode: 64;"
  xrextras-almost-there
  xrextras-loading
  xrextras-runtime-error
  xrface="mirroredDisplay: true; cameraDirection: front; allowedDevices: any">
  
  <!-- Assets block loading of the scene until they are fetched. -->
  <a-assets>
    <a-asset-item id="apple" src="./assets/Models/apple.glb"></a-asset-item>
    <a-asset-item id="head-occluder" src="./assets/Models/head-occluder.glb"></a-asset-item>
  </a-assets>
  
  <a-camera position="0 1 2"></a-camera>
  
  <xrextras-faceanchor>
    <a-entity 
      gltf-model="#head-occluder"
      xrextras-hider-material
      position="0 0 0.25" 
      scale="1.2 1.1 1.35" 
      rotation="-6 0 0">
      <a-entity 
        position="0 0.3 -0.1"
        ammo-body="type: static" 
        ammo-shape="type: sphere; fit: manual; sphereRadius: 0.11"></a-entity>
    </a-entity>
    <xrextras-face-mesh xrextras-hider-material></xrextras-face-mesh>
  </xrextras-faceanchor>
  
  <a-light type="directional" target="#face" position="0 1.8 3" intensity="0.8"></a-light>
  <a-light type="ambient" intensity="0.5"></a-light>
  
</a-scene>